<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#0e1313" />
  <link rel="manifest" href="./manifest.json">
  <link rel="shortcut icon" href="./public/banner2.png" type="image/x-icon">
  <link rel="apple-touch-icon" href="./public/apple-touch-icon.png">

  <title id="title">Nghe - Xanh</title>

  <!-- Import CSS File -->
<!--  <link rel="stylesheet" href="./CSS/style.css">-->
<!--  <link rel="stylesheet" href="./CSS/responsive.css">-->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap">
  <!-- Import Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
  <style>
    @media (max-width: 815px) {
      body.disabledScroll {
        overflow: hidden;
      }
      @import url("https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");

      .icon {
        display: block;
        height: 50px;
        width: 50px;
        text-align: center;
        line-height: 52.5px;
        border-radius: 50%;
        z-index: 999;
      }

      .icon.cancel-btn {
        display: none;
      }

      .icon.cancel-btn.show {
        display: block;
      }

      .icon.hide {
        display: none;
      }

      .navbar .menu-list {
        position: fixed;
        top: 0;
        left: 0;
        height: 100vh;
        width: 100%;
        background: linear-gradient(90deg, #bde1df 30%, #eca7a6 70%);
        display: block;
        padding: 40px 0;
        text-align: center;
        clip-path: circle(25px at calc(100% - 55px) calc(0% + 50px));
        transition: all 0.3s ease;
      }

      .navbar.sticky .menu-list {
        clip-path: circle(25px at calc(100% - 55px) calc(0% + 35px));
      }

      .navbar .menu-list.active {
        clip-path: circle(75%);
      }

      .navbar .menu-list li {
        margin-top: 45px;
      }

      .navbar .menu-list li a {
        font-size: 23px;
      }
    }
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: "Poppins", sans-serif;
    }

    /* COMMON */
    section {
      height: auto;
      width: 100%;
      padding-top: 20rem;
      padding-bottom: 20rem;
    }

    .container {
      max-width: 1050px;
      margin: auto;
      padding: 0px 30px;
    }

    .row {
      display: flex;
      gap: 20px;
    }

    .left-col {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 20px;
      margin: auto;
    }

    .right-col {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 20px;
      margin: auto;
    }

    /* CUSTOM SCROLLBAR */
    ::-webkit-scrollbar {
      width: 10px;
    }

    ::-webkit-scrollbar-track {
      background: #fff;
    }

    ::-webkit-scrollbar-thumb {
      background: #0e1313;
    }

    /* LOADER */
    #loading {
      position: fixed;
      width: 100%;
      height: 100vh;
      background: #fff url(assets/Image/loading.gif) no-repeat center;
      z-index: 999;
    }

    html {
      font-size: 62.5%;
      scroll-behavior: smooth;
    }

    /* MOVE TO TOP */
    #moveTopBtn {
      height: 4.5rem;
      width: 4.2rem;
      display: none;
      position: fixed;
      bottom: 4rem;
      right: 3rem;
      z-index: 99;
      border: none;
      outline: none;
      background-color: #0e1313;
      color: #fff;
      cursor: pointer;
      padding: auto;
      border-radius: .4rem;
      font-size: 2.5rem;
    }

    /* NAVBAR */
    .content {
      max-width: 1250px;
      margin: auto;
      padding: 0px 30px;
    }

    .navbar {
      position: fixed;
      z-index: 5;
      width: 100%;
      padding: 25px 0;
      transition: all 0.3s ease;
    }

    .navbar.sticky {
      padding: 10px 0;
      background: linear-gradient(90deg, #bde1df 30%, #115F49 70%);
      box-shadow: 0px 3px 5px 0px rgba(0, 0, 0, 0.1);
    }

    .navbar .content {
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .navbar .logo a {
      color: #0e1313;
      font-size: 30px;
      font-weight: 600;
      text-decoration: none;
    }

    .navbar .menu-list {
      display: inline-flex;
      gap: 2rem;
    }

    .menu-list li {
      list-style: none;
    }

    .menu-list li a {
      color: #0e1313;
      font-size: 18px;
      font-weight: 500;
      text-decoration: none;
      transition: all 0.3s ease;
    }

    .menu-list li a:hover {
      color: #0e1313;
    }

    .active-menu-list {
      border-bottom: 2px solid #0e1313;
      width: fit-content;
      margin: auto;
    }

    .icon {
      color: #0e1313;
      font-size: 20px;
      cursor: pointer;
      display: none;
    }

    .icon.cancel-btn {
      position: absolute;
      right: 30px;
      top: 20px;
    }

    .navbar.sticky .icon.cancel-btn {
      top: 10px;
    }

    .banner {
      height: 100vh;
      background: url("assets/Image/banner.png") no-repeat;
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
    }

    /* PLAY */
    .play {
      background: #bde1df;
    }

    .play .card {
      background: #115F49;
    }

    .play .card .card-body {
      padding: 4rem;
    }

    .play .row .left-col h1 {
      font-size: 5rem;
      color: #bde1df;
    }

    .play .row .left-col h5 {
      font-size: 2.5rem;
      color: #bde1df;
    }

    .play .row .right-col img {
      display: grid;
      margin: auto;
      width: 100%;
      max-width: 200px;
    }

    .play .row .right-col p {
      font-size: 1.8rem;
      font-weight: 500;
      text-align: center;
    }

    /* SELECT SONGS */
    .songs {
      background: #115F49;
    }

    .songs-header {
      display: flex;
      justify-content: space-between;
      gap: 2rem;
      flex-wrap: wrap;
      align-items: center;
    }

    .songs-header .title {
      font-size: 4rem;
      font-weight: 400;
    }

    .songs-header .play-song-btn {
      text-decoration: none;
      text-align: center;
      font-size: 1.8rem;
      font-weight: 500;
      padding: 1rem 2rem;
      border-radius: 0.5rem;
      border: none;
      outline: none;
      background: #bde1df;
      color: #0e1313;
      cursor: pointer;
    }

    .songs .btn-group {
      display: flex;
      justify-content: space-evenly;
      align-items: center;
      gap: 1rem;
      flex-wrap: wrap;
      margin-top: 3rem;
    }

    .songs .btn-group .btn {
      font-size: 1.8rem;
      font-weight: 500;
      width: 100%;
      max-width: 250px;
      padding: 1rem 2rem;
      border-radius: 0.5rem;
      margin-top: 2rem;
      border: none;
      outline: none;
      background: #bde1df;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .songs .btn-group .btn:hover {
      background: rgba(189, 225, 223, 0.9);
    }

    /* ABOUT */
    .about {
      background: #bde1df;
    }

    .about-header .title {
      font-size: 4rem;
      font-weight: 400;
      margin-bottom: 2rem;
    }

    .about-content {
      display: flex;
      flex-wrap: wrap-reverse;
      align-items: center;
      gap: 3rem;
    }

    #aboutSong {
      font-size: 1.5rem;
      margin-bottom: 3rem;
      width: 100%;
      max-width: 625px;
    }

    .about-content .image-container img {
      width: 100%;
      max-width: 300px;
      border-radius: 1rem;
    }

    .download-song {
      text-decoration: none;
      text-align: center;
      font-size: 1.5rem;
      font-weight: 500;
      padding: 1rem;
      border-radius: 0.5rem;
      border: none;
      outline: none;
      background: #115F49;
      color: #0e1313;
      cursor: pointer;
    }

    /* CONTACT & FOOTER */
    .contact {
      background: #115F49;
    }

    .contact .title {
      font-size: 4rem;
      font-weight: 400;
      color: #0e1313;
      text-align: center;
      margin-bottom: 5rem;
    }

    .contact .social-media {
      display: flex;
      justify-content: center;
      align-items: center;
      flex-wrap: wrap;
      gap: 2rem;
    }

    .contact .social-media>a {
      display: flex;
      background: #bde1df;
      height: 7.5rem;
      width: 7.5rem;
      margin: 0 1.5rem;
      border-radius: .8rem;
      align-items: center;
      justify-content: center;
      text-decoration: none;
      box-shadow: .6rem .6rem 1.0rem -.1rem rgba(0, 0, 0, 0.15), -.6rem -.6rem 1.0rem -.1rem rgba(255, 255, 255, 0.5);
      border: 1rem solid rgba(0, 0, 0, 0);
      transition: transform 0.5s;
    }

    .contact .social-media a i {
      font-size: 3.5rem;
      color: #115F49;
      transition: transform 0.5s;
    }

    .contact .social-media>a:hover {
      box-shadow: inset .4rem .4rem .6rem -.1rem rgba(0, 0, 0, 0.2), inset -.4rem -.4rem .6rem -.1rem rgba(255, 255, 255, 0.7),
      -0.05rem -0.05rem 0rem -.1rem rgba(255, 255, 255, 1), 0.05rem 0.05rem 0rem rgba(0, 0, 0, 0.15),
      0rem 1.2rem 1.0rem -1.0rem rgba(0, 0, 0, 0.05);

      border: .1rem solid rgba(0, 0, 0, 0.01);
      transform: translateY(.2rem);
    }

    .contact .social-media a:hover i {
      transform: scale(0.90);
    }

    .contact .social-media a:hover .fa-instagram {
      color: #f14843;
    }

    .contact .social-media a:hover .fa-facebook {
      color: #3b5998;
    }

    .contact .social-media a:hover .fa-linkedin {
      color: #0077b5;
    }

    .contact .social-media a:hover .fa-twitter {
      color: #00acee;
    }

    .contact .social-media a:hover .fa-github {
      color: #111;
    }

    .footer {
      position: fixed;
      left: 0;
      font-size: small;
      bottom: 0;
      width: 100%;
      background-color: #fff;
      color: #0e1313;
      text-align: center;
      padding: 1rem;
    }
    /* Popup styles */
    .popup {
      display: none;
      position: fixed;
      z-index: 1;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0, 0, 0, 0.4);
    }

    .popup-content {
      background-color: #fefefe;
      margin: 15% auto;
      padding: 20px;
      border: 1px solid #888;
      width: 80%;
      max-width: 500px;
      border-radius: 10px;
    }

    .close-btn {
      color: #aaa;
      float: right;
      font-size: 28px;
      font-weight: bold;
    }

    .close-btn:hover,
    .close-btn:focus {
      color: black;
      text-decoration: none;
      cursor: pointer;
    }

    form {
      display: flex;
      flex-direction: column;
    }

    label, input, textarea, button {
      margin-bottom: 10px;
      width: 100%;
    }

    textarea {
      resize: vertical;
    }

    button {
      background-color: #17916e;
      border: none;
      padding: 10px;
      border-radius: 5px;
      cursor: pointer;
    }

    button:hover {
      background-color:  #4CAF50;
    }

    .highlight {
      font-weight: bold;
      color: #000000;
      font-size: 16px;
    }

    .form-check-inline {
      display: inline-block;
      margin-right: 10px;
    }

    #projectDesc {
      font-size: 15px;
      line-height: 1.5;
      margin-bottom: 20px;
    }

    .popup-content h2 {
      font-size: 20px;
    }

    .popup {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      padding: 20px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      z-index: 1000;
      /* Ensure the popup is above other elements */
    }

    #userTable {
      width: 100%;
      border-collapse: collapse;
    }

    #userTable th, #userTable td {
      border: 1px solid #ddd;
      padding: 8px;
    }

    #userTable th {
      background-color: #f2f2f2;
      color: black;
    }

    #userTable tr:nth-child(even) {
      background-color: #f9f9f9;
    }

    #userTable tr:hover {
      background-color: #ddd;
    }

    #userTable th {
      padding-top: 12px;
      padding-bottom: 12px;
      text-align: left;
    }
    .user-list{
      background: #bde1df;
    }
  </style>
</head>
<body onload="preLoader()">
<div id="loading"></div>
<!-- Go to Up button -->
<button onclick="topFunction()" id="moveTopBtn" title="Go to top"><i class="fas fa-angle-up"></i></button>
<!-- Navbar  -->
<nav class="navbar">
  <div class="content">
    <div class="logo"><a href="#">Nghe - Xanh</a></div>
    <ul class="menu-list">
      <div class="icon cancel-btn">
        <i class="fas fa-times"></i>
      </div>
      <li><a href="#play">Chơi nhạc</a></li>
      <li><a href="#songs">Chọn chất Xanh</a></li>
      <li><a href="#about">Về chúng tôi</a></li>
      <li><a href="#userList">Danh sách</a></li>
      <li><a href="#contact">Liên hệ</a></li>
      <li><a href="#" onclick="openPopup()">Đồng hành</a></li>
    </ul>
    <div class="icon menu-btn">
      <i class="fas fa-bars"></i>
    </div>
  </div>
</nav>

<div class="banner"></div>
<!-- PLAY PAGE -->
<section class="play" id="play">
  <div class="container">
    <div class="card">
      <div class="card-body">
        <div class="row">
          <div class="left-col">
            <h1 id="songName"> Nghe - Xanh Lofi 1 </h1>
            <h5>~<em id="songBy">Nghe - Xanh Lofi 1</em></h5>
          </div>
          <div class="right-col">
            <img src="./assets/Image/play.png" alt="play-button" id="icon">
            <p style="color: white;">Play Nghe - Xanh</p>
          </div>
        </div>
      </div>
    </div>
    <audio id="song">
      <source src="./assets/Songs/Nghe-Xanh Lofi 1.mp3" type="audio/mp3">
    </audio>
  </div>
</section>

<!-- SELECT SONGS -->
<section class="songs" id="songs">
  <div class="container">
    <div class="songs-header">
      <h2 style="color: white;" class="title">Chọn một thế giới Xanh chuẩn "gu" bạn: </h2>
      <a class="play-song-btn" href="#play">Chơi nhạc</a>
    </div>
    <div class="btn-group">
      <button type="button" class="btn">Nghe - Xanh Lofi 1</button>
      <button type="button" class="btn">Nghe - Xanh Alpha 1</button>
      <button type="button" class="btn">Nghe - Xanh Piano 1</button>
      <button type="button" class="btn">Nghe - Xanh Lofi 2</button>
      <button type="button" class="btn">Nghe - Xanh Alpha 2</button>
      <button type="button" class="btn">Nghe - Xanh Piano 2</button>
      <button type="button" class="btn">Nghe - Xanh Lofi 3</button>
      <button type="button" class="btn">Nghe - Xanh Alpha 3</button>
      <button type="button" class="btn">Nghe - Xanh Piano 3</button>
      <button type="button" class="btn">Nghe - Xanh Lofi 4</button>
      <button type="button" class="btn">Nghe - Xanh Alpha 4</button>
      <button type="button" class="btn">Nghe - Xanh Piano 4</button>
    </div>
  </div>
</section>

<!-- ABOUT SECTION -->
<section class="about" id="about">
  <div class="container">
    <div class="about-header">
      <h2 class="title">Nghe - Xanh: </h2>
    </div>
    <div class="about-content">
      <div>
        <p id="aboutSong">
          Nhạc lofi mang lại cảm giác thư giãn và yên bình, giúp tâm hồn bạn được tĩnh lặng và bình an. Hãy cùng thưởng thức
          'Nghe-Xanh Lofi 1' và để âm nhạc giúp bạn thư giãn sau một ngày dài. Chúng tôi hy vọng rằng qua mỗi lần bạn lắng nghe, bạn sẽ cảm nhận được giá trị của việc bảo vệ môi trường.
          Hãy tham gia cùng chúng tôi trong dự án trồng cây gây quỹ. Mỗi lần phát bài hát này, bạn đang góp phần tạo nên một thế giới xanh hơn. Hãy cùng nhau trồng cây và bảo vệ môi trường vì một tương lai bền vững.
        </p>
        <a style="color: white; font-family: Arial, Helvetica, sans-serif;" class="download-song" href="#" id="download" onclick="checkRegistration()">Lưu giữ chất Xanh</a>
      </div>
      <div class="image-container">
        <img src="./assets/Image/nghe-xanh-lofi1.webp" alt="song-banner" id="banner">
      </div>
    </div>
  </div>
</section>
<!-- USER LIST SECTION -->
<section class="user-list" id="userList">
  <div class="container">
    <h1 style=" margin-bottom: 50px; font-size: 45px; font-family: Arial, Helvetica, sans-serif;" class="title">Danh sách bạn đồng hành cùng Nghe - Xanh</h1>
    <table id="userTable">
      <thead>
      <tr>
        <th>Họ và Tên</th>
        <th>Tuổi</th>
        <th>Giới tính</th>
        <th>Email</th>
        <th>Ý kiến đóng góp</th>
      </tr>
      </thead>
      <tbody id="userTableBody">
      <!-- Rows will be added here dynamically -->
      </tbody>
    </table>
    <div id="totalUsers" style="font-size: 25px; font-family: Arial, Helvetica, sans-serif; margin-top: 20px;"></div>
    <div id="totalDonation" style="font-size: 25px; font-family: Arial, Helvetica, sans-serif; margin-top: 10px;"></div>
  </div>
</section>
<section class="contact" id="contact">
  <h2 style="color: white; font-family: Arial, Helvetica, sans-serif;" class="title">Kết nối với chúng tôi để cùng lan tỏa Nghe - Xanh</h2>
  <div class="social-media">
    <a href="https://www.facebook.com/profile.php?id=61562984820420" target="_blank"><i class="fab fa-instagram"></i></a>
    <a href="https://www.facebook.com/profile.php?id=61562984820420" target="_blank"><i class="fab fa-facebook"></i></a>
    <a href="#" target="_blank"><i class="fab fa-linkedin"></i></a>
    <a href="#" target="_blank"><i class="fab fa-twitter"></i></a>
    <a href="https://github.com/nqa-tech" target="_blank"><i class="fab fa-github"></i></a>
  </div>

  <footer class="footer">
    <p>© Design by <a href="https://github.com/nqa-tech" target="_blank">Nguyễn Quốc Anh</a></p>
    <p>Contributed by <a href="https://github.com/nqa-tech" target="_blank">Lê Thịnh Phát</a></p>
  </footer>
</section>

<!-- POPUP -->
<div id="popup" class="popup">
  <div class="popup-content">
    <span class="close-btn" onclick="closePopup()">&times;</span>
    <h2>Đồng hành cùng Nghe - Xanh</h2>

    <div style=" font-family: Arial, Helvetica, sans-serif;" id="projectDesc">
      Nghe - Xanh là dự án hướng đến trải nghiệm người dùng, mọi người khi đăng kí thành viên vừa có thể
      nghe nhạc vừa ủng hộ vào quỹ trồng cây PHỦ XANH 7,8 HECTA (6.000 CÂY XANH ĐÔ THỊ) tại Trường Đại học
      Nông Lâm TP. Hồ Chí Minh. Từ tháng 6-12/2025, Trung tâm GreenViet thực hiện gây quỹ cho dự án phủ xanh 7,8 ha cây xanh.
      Mỗi lượt đăng ký thành viên sẽ ủng hộ 5000đ vào quỹ.
    </div>
    <form id="registrationForm">
      <label style=" font-family: Arial, Helvetica, sans-serif;" class="highlight" for="fullName">Họ và Tên:</label>
      <input type="text" id="fullName" name="fullName" required>

      <label style=" font-family: Arial, Helvetica, sans-serif;" class="highlight" for="age">Tuổi:</label>
      <input type="number" id="age" name="age" required>

      <label style=" font-family: Arial, Helvetica, sans-serif;" class="highlight">Giới tính:</label>
      <div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" id="male" name="gender" value="male" required checked>
          <label style=" font-family: Arial, Helvetica, sans-serif;" class="form-check-label" for="male">Nam</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" id="female" name="gender" value="female">
          <label style=" font-family: Arial, Helvetica, sans-serif;" class="form-check-label" for="female">Nữ</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" id="other" name="gender" value="other">
          <label style=" font-family: Arial, Helvetica, sans-serif;" class="form-check-label" for="other">Khác</label>
        </div>
      </div>

      <label style=" font-family: Arial, Helvetica, sans-serif;" class="highlight" for="email">Email của bạn:</label>
      <input type="email" id="email" name="email" required>

      <label style=" font-family: Arial, Helvetica, sans-serif;" class="highlight" for="comment">Ý kiến đóng góp:</label>
      <input type="text" id="comment" name="comment" required>

      <button type="submit" onclick="registerUser(event)">Tham gia</button>
    </form>
  </div>
</div>

<!-- Import JS File -->
<script src="./JS/script.js"></script>
<script src="./RegisterServiceWorker.js"></script>
<script>
  function openPopup() {
    document.getElementById("popup").style.display = "block";
  }

  function closePopup() {
    document.getElementById("popup").style.display = "none";
  }

  // Close the popup when clicking outside of it
  window.onclick = function(event) {
    if (event.target == document.getElementById("popup")) {
      document.getElementById("popup").style.display = "none";
    }
  }

  let isRegistered = false;

  function registerUser(event) {
    event.preventDefault();

    const user = {
      fullName: document.getElementById('fullName').value,
      age: document.getElementById('age').value,
      gender: document.querySelector('input[name="gender"]:checked').value,
      email: document.getElementById('email').value,
      comment: document.getElementById('comment').value
    };

    fetch('https://nghexanh1-c1z0f4b6v-thinhphats-projects.vercel.app/api/users/register', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify(user)
    })
            .then(response => {
              if (response.ok) {
                alert("Đăng ký thành công! Bây giờ bạn có thể tải nhạc.");
                closePopup();
                loadUsers(); // Reload user list after successful registration
              } else {
                alert("Đã có lỗi xảy ra. Vui lòng thử lại.");
              }
            })
            .catch(error => {
              console.error('Error:', error);
              alert("Đã có lỗi xảy ra. Vui lòng thử lại.");
            });
  }

  function checkRegistration() {
    if (!isRegistered) {
      openPopup();
    } else {
      const downloadLink = document.getElementById("download");
      downloadLink.href = "./assets/Songs/Nghe-Xanh Lofi 1.mp3";
      downloadLink.setAttribute("download", "Song.mp3");
      downloadLink.click();
    }
  }
</script>
</body>
</html>
